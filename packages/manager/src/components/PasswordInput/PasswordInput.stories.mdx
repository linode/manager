import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import PasswordInput from 'src/components/PasswordInput';

export const decorators = [
  (Story, context) => {
    const [value, setValue] = React.useState('');
    return Story({ value, onChange: (e) => setValue(e.target.value) });
  },
];

<Meta title="Elements/Password Input" component={PasswordInput} />

export const Template = (args, context) => {
  return (
    <PasswordInput
      {...args}
      value={context.value || args.value}
      onChange={context.onChange}
    />
  );
};

# Password Input

<Canvas>
  <Story name="Password Input" decorators={decorators}>
    {Template.bind({})}
  </Story>
</Canvas>

### Component API

<hr />

<Canvas>
  <Story
    name="Component API"
    decorators={decorators}
    args={{
      value: '',
      onChange: () => null,
      required: false,
      disabledReason: '',
      hideStrengthLabel: false,
      hideValidation: false,
    }}
    argTypes={{
      value: {
        description: 'The current value of the underlying TextField',
      },
      onChange: {
        description: 'The onChange handler for the underlying TextField',
        table: {
          defaultValue: { summary: 'false' },
          type: { summary: 'function' },
        },
      },
      required: {
        description:
          'Whether or not the password input field is required in the surrounding form',
        table: {
          defaultValue: { summary: 'false' },
        },
      },
      disabledReason: {
        description: 'The reason the text field is disabled',
        table: {
          defaultValue: { summary: '' },
        },
      },
      hideStrengthLabel: {
        description: 'Whether or not to show the "Strength" label',
        table: {
          defaultValue: { summary: 'true' },
        },
      },
      hideValidation: {
        description: 'Whether or not to show the strength validator.',
        table: {
          defaultValue: { summary: 'true' },
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable
  story="Component API"
  include={[
    'value',
    'onChange',
    'required',
    'disalbed',
    'hideStrengthLabel',
    'hideValidation',
  ]}
/>
