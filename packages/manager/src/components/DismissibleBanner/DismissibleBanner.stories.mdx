import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import Link from 'src/components/Link';
import Typography from 'src/components/core/Typography';
import DismissibleBanner from './DismissibleBanner';
// import StatusBanners from 'src/features/Help/StatusBanners';

<Meta
  title="Components/Notifications/Dismissible Banners"
  component={DismissibleBanner}
/>

# Dismissible Banners

### Usage

Banners appear between the top nav and page content and are a visual interruption of the normal page layout. Their use must be approved by all project stakeholders.

### Design

- Banners are dismissible using an &rsquo;X&rsquo; icon.
- Consider adding a link to a doc or a guide for users to learn more.
- Banners should be considered as one part of a larger communications plan; messaging should be developed with the marketing team.

### Variants

Under the hood, banners use the [Notice](/docs/components-notifications-notices--success) component so they have the same variants such as:

- Success: Informs users of a new feature or improved service.
- Warning: Informs users of an impending change that will have an impact on their service(s).
- Call to action: Primary Button or text link allows a user to take action directly from the banner.

export const DismissibleBannerTemplate = (args) => {
  return (
    <DismissibleBanner
      {...args}
    >
      <Typography>This is an example of a dismissible banner.</Typography>
    </DismissibleBanner>
  );
};

export const StatusBannersTemplate = (args) => {
  const { message, title, status, impact, href } = args;
  return <StatusBanners {...args} />;
};

export const ExampleBetaBanner = () => {
    return (
      <DismissibleBanner success>
        <Typography>
          Managed Database for MySQL is available in a free, open beta period
          until May 2nd, 2022. This is a beta environment and should not be
          used to support production workloads. Review the{' '}
          <Link to="https://www.linode.com/legal-eatp">
            Early Adopter Program SLA
          </Link>
          .
        </Typography>
      </DismissibleBanner>
  );
}

#### Example Beta Banner

<Canvas>
  <Story name="Example Beta Banner">
    {ExampleBetaBanner.bind({})}
  </Story>
</Canvas>

### Component API

<Canvas>
  <Story
    name="Dismissible Banners"
    args={{
      productInformationIndicator: true,
    }}
    argTypes={{
      productInformationIndicator: {
        description:
          'Indicates whether the banner communicates information about a product, typically a new feature or improved service. If true, the left border is set to green.',
      },
    }}
  >
    {DismissibleBannerTemplate.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Dismissible Banners" include={['preferenceKey', 'children', 'options', 'text', 'success', 'error', 'warning', 'important', ]} />

<!-- The Status Banners story below can be restored once the MSW works in production builds of Storybook. --!>
<!-- Status Banners appear on our `/support` pages and communicate information about data center connectivity and service issues. The information populating these banners is sourced from Statuspage and corresponds to incidents detailed at [status.linode.com](https://status.linode.com).

<Canvas>
    <Story
        name="StatusBanners"
    >
        {StatusBannersTemplate.bind({})}
    </Story>
</Canvas> -->
