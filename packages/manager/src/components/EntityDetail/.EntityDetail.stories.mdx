import { ArgsTable, Canvas, Meta, Story } from '@storybook/addon-docs';
import { Provider } from 'react-redux';
import { kubernetesClusterFactory } from '/src/factories/kubernetesCluster';
import { linodeConfigFactory } from 'src/factories/linodeConfigs';
import { linodeBackupsFactory, linodeFactory } from 'src/factories/linodes';
import LinodeEntityDetail from 'src/features/linodes/LinodeEntityDetail';
import KubeSummaryPanel from 'src/features/Kubernetes/KubernetesClusterDetail/KubeSummaryPanel';
import store from 'src/store';

<Meta title="Features/Entity Detail" component={LinodeEntityDetail} />

# Entity Detail

<Canvas>
  <Story name="Linode">
    <Provider store={store}>
      <div>
        <h2 style={{ margin: 0 }}>Linode Details: </h2>
        <LinodeEntityDetail
          variant="details"
          numVolumes={2}
          id={0}
          linode={linodeFactory.build()}
          username="linode-user"
          openTagDrawer={() => null}
          openDialog={() => null}
          openPowerActionDialog={() => null}
          backups={linodeBackupsFactory.build()}
          linodeConfigs={linodeConfigFactory.buildList(2)}
        />
      </div>
    </Provider>
  </Story>
</Canvas>

<Canvas>
  <Story name="Kubernetes">
    <h2 style={{ margin: 0 }}>Kubernetes Details: </h2>
    <KubeSummaryPanel
      cluster={kubernetesClusterFactory.build()}
      endpoint={'https://test.us-east-2.linodelke.net:443'}
      endpointError={null}
      endpointLoading={false}
      kubeconfigAvailable={true}
      kubeconfigError={null}
      handleUpdateTags={() => null}
      isClusterHighlyAvailable={false}
      isKubeDashboardFeatureEnabled={false}
    />
  </Story>
</Canvas>
