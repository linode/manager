sudo: required

language: node_js

node_js:
  - 8.11.2

cache: yarn
# services:
  # - docker

before_install: sudo apt-get install libcairo2-dev libjpeg8-dev libpango1.0-dev libgif-dev
  build-essential g++ google-chrome-stable curl

install:
- yarn --frozen-lockfile

before_script:
- yarn storybook &

script:
- yarn build
- yarn test --coverage --maxWorkers=2
- yarn storybook:e2e
# - yarn storyshots
- 'pkill -f selenium-standalone || :'
- pkill -f storybook
- cat ./coverage/lcov.info | ./node_modules/.bin/coveralls

secure: "aV/fYqDjHMTEUuwxk9EM8n7duFPMvgB8ywvTB7x5iGDQ9958EvM0i6BWGJ30hRRbdx6Nklnn8puXctKAE7sNlI/jsyuaXNSycFeS8R7ItDeDKiEG5jRKEzoLJ5NkCdSThY/w31sw88EZlAdJZ7olHz6v91XDhHdqLrtDChPADQPf5/EF5hja+EeX3H6vXGuo5CxctUtQMr4xkuXL4i8+oR5X7sOFMy2++ZpdwoX3JtX/bYxGzokTbzv7HH4YK0WKyZZpUFyC/YVP2pxw/YjLTS2kyLBfoMuFjCYojhbgwKiQyb0XrE028Dc5TGPbd01xZdmiZ3lnd4HAZhanEBCnVoKbOXdejZjo007QZrkInWGTM4nqsz+OegnMrxdaaLZmXdQ4F+Tt9SmPlKVIsHwQAqzXGeC/WkykWF4qazRumKmlJgYXogPlqCFbh8O0Y7sAGysNNRDx6/7DGVKBq8oD+iTbTFPwPWCTy7m6tuesyHww0F1r/QN4fbpyEEneCRy+kPgWfAF5nj+SJO6Ajm710xxoelvQpjJpd9wsQIWV61cy2wwcifk+V3W24KdZZBqm746Tr7XzbqdRFWyzWbevdUAxhkkXjrOevP+UZYAs3o4iFjWQ1Sh4jANOCYHdvrc+EbjRd8rdTfGwRqsgdYLFMbwiJca/NfZbmLlaRTClBvI="

secure: "28JaS/l3I+T+/RlZIvJjs3o4RLZgvKwpUedA1HaUtAAKD+iIcqzMX8yedOztu3Jr5qOSnA5OT6RPVM+xfZZBzEGjDvwyR9KZof9j5e2rMxqc2mV5OYO7PPjgx7yIO5y3xA2WfFWW884ggnzkUh7TJVMIIrGofICc+xjdyMPCFl80/9dwUcXun7+9iKoRQKCP4DUjWwbyy0sB2V49OHsRejxyfXDeskvhKQPN39qzz6JLSe26zGuQoC1Pgrk2tuOND6TXUokhP6j+q6K27Hjq3B1ZwQg5Da1S8o8iY7z3/tp3P6dqQlfr+TS2O2euFACbkcTwtJjemhXQTl6iuQNZPC/+5L08Wha2wmebFxPaaHPKI7RO7L77s35704PF2d7G2Mno0VSekkygbKnppkhiA7KDU5fzixrJBQSVngQNNE6cIz0g2iO5CIA+NaL9DRZi7feKTOftbyenYiHEy+7ol3HZMH0yFKxwKWye93cxjOhpdhaUP0KH0Q3fqJkCP0eBaYXk8zPFlW5TaogP3CHkh8LPmdyy2b0rFaLIH8eTHwZ2O/0kQMiopmHTBxdmllAd1aUx9rEnpePlbaOUpNFgWrekY5ysOLwo4Qq0g2RmtbfVlfoLVURMwVh3jaei0UF9sxnnaVLM/Vaxokcq03Btw5QRws1OQ9Kxq0oJzLkq00s="
secure: "f5qRnKo5t/4dXL3Sn7Oj2+ThqJ1dU7hvfh2paiBGi9tEnX5QpXxr5pp7i1TLBG5WaWQWQI8wPBO1NoGHhciqbojN9RnBuDrOcS0YnYWDixh1ClDbxShQ+svnx2r1hrw68Kr32hR6KVGm/2KwMlRImGz4sl7HxswoG+WXmddW2IT80sC946G8uC7VKKZjFPYWLXEa2efTm4vlB243xRM2mIc42O6BtdgbMZvPRAaGTQlU3mmif0j0uMUOPfnpnqJs45/01HLsLHiFsD5DwTcVWO4Bh0SCJQXaHGkgsPloBesP6ybDOS/giwICq5NaMeQL/N1uIRw6/dGVzufJJkOLz3WhdoON08GRCa5oDcqwcKA/w2oJwoxNFbsguMxwf/ZCe8CnNs2AaDAvg+wM+9ej9PeYOq9ImYn4maXPY6oFjIlXARZRiHkgjVTDDuTGO+vajytBqdLTGMSKOD5f6vuUODlEny0LxxO76ILFYRHnPSBDDAr7T8YW6qwoppG5czE0oUs6pEL1WhjoHUC/NulYYtxObP4IubqW/7bReyrKn3iLYnP78TFW8L8tSD2ypn+xzj5ESWkBmGSVFuwKo4wM07wuf6pb9T1JEWCWDWn1YBe6e9JcC+mKgYQJ4a468CocXUu/P6KB7eWvTA7kFLQoKvPSIO8yp1k2T4M60WNDWHs="
