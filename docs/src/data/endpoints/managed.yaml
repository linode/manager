# vim: set et ts=2 sw=2 tw=80 :
name: Managed
sort: 1
description: >
  Managed service endpoints provide a means of manipulating the information related to your Managed service preferences.
endpoints:
  /managed/contacts:
    group: Contacts
    type: resource
    description: >
      Manage your managed service contacts list.
    methods:
      GET:
        response: ManagedContact
        description: >
          Returns your contact list.
        examples:
          curl: |
            curl https://$api_root/$version/managed/contacts
      POST:
        description: >
          Registers a new contact to your managed service contacts list.
        params:
          name:
            description: The contact's full name.
            type: String
            limit: "1-64 characters"
          email:
            description: The email address for the contact.
            type: String
          phone1:
            description: A primary phone number for the contact.
            type: String
          phone2:
            description: A primary phone number for the contact.
            type: String
          group:
            description: Contacts can be associated with a monitored service by the group they belong to.
            type: String
        examples:
          curl: |
            curl -H "Content-Type: application/json" \
                -H "Authorization: Bearer $TOKEN" \
                -X POST -d '{
                    "name": "John Q. Public",
                    "email": "johnqpublic@linode.com",
                    "phone1": "215-555-3000",
                    "phone2": "215-555-3001",
                    "group": "Support",
                }' \
                https://$api_root/$version/managed/contacts

  /managed/contacts/$id:
    group: Contacts
    type: resource
    authenticated: true
    description: >
      Manage a particular Managed service contact your account may access.
    methods:
      GET:
        response: ManagedContact
        description: >
          Returns information about this contact.
        examples:
          curl: |
            curl -H "Authorization: Bearer $TOKEN" \
                https://$api_root/$version/managed/contact/$contact_id
      PUT:
        description: >
          Edits this contact.
        examples:
          curl: |
            curl -H "Content-Type: application/json" \
                -H "Authorization: Bearer $TOKEN" \
                -X PUT -d '{
                    "name": "John Q. Public, Jr.",
                    "email": "johnqpublicjr@linode.com",
                    "phone1": "215-555-4000",
                    "phone2": "215-555-4001",
                    "group": "Developers"
                }' \
                https://$api_root/$version/account/oauth-clients/$client_id

